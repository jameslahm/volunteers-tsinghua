{% extends "auth/authbase.html" %}

{% block page%}
{% for message in get_flashed_messages() %}
    <div class="alert alert-warning" style="position: absolute;left: 43%;top: 3px;">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{ message }}
    </div>
  {% endfor %}
  <form class="form-signin" method="POST">
    <div class="jumbotron" style=background-color:rgba(219,177,247,0.336);>

      <div class="text-center mb-4">
        <h1 class="line"></h1>
        <h2 class="h3 mb-3 font-weight-normal">志愿团体注册</h2>
      </div>

      <div class="form-group">
        <label for="introcode">邀请码</label>
        <input name='introcode' class="form-control" id="introcode" aria-describedby="emailHelp" placeholder="请输入邀请码">
        <small id="emailHelp" class="form-text text-muted">请注意保管自己的邀请码，邀请码在24小时之内有效。</small>
      </div>

      <div class="form-group">
        <label for="username">用户名</label>
        <input name="username" class="form-control" id="username" placeholder="请输入用户名">
      </div>

      <div class="form-group">
        <label for="email">邮箱</label>
        <input name="email" class="form-control" id="email" placeholder="请输入邮箱">
      </div>

      <div class="form-group">
        <label for="exampleInputPassword1">密码</label>
        <input name="password" type="password" class="form-control" id="exampleInputPassword1" placeholder="请输入密码">
      </div>

      <div class="form-group">
        <label for="exampleInputPassword2">确认密码</label>
        <input type="password" class="form-control" id="exampleInputPassword2" placeholder="请确认密码">
      </div>

      <label for="mpanel3">验证码</label>
      <div id="mpanel3">
      </div>

      <button id="check-btn2" class="btn btn-lg btn-primary btn-block" type="submit">提交</button>
      <a class="btn btn-lg btn-secondary btn-block" href="login" role="button">返回</a>

      <p class="mt-5 mb-3 text-muted text-center">&copy; 2019-2029</p>

    </div>

  </form>
{% endblock %}

{% block script %}
  <script>
    $('#mpanel3').codeVerify({
      type: 2,
      figure: 100,	//位数，仅在type=2时生效
      arith: 0,	//算法，支持加减乘，不填为随机，仅在type=2时生效
      width: '350px',
      height: '50px',
      fontSize: '30px',
      btnId: 'check-btn2',
      ready: function () {
      },
      success: function () {
        alert('验证匹配！');
      },
      error: function () {
        alert('验证码不匹配！');
      }
    });
  </script>
{% endblock %}
